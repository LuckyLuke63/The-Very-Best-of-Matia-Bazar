<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>I pi√π grandi successi dei Matia Bazar</title>

  <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/LuckyLuke63/The-Very-Best-of-Matia-Bazar/main/souvenir_copertina_cd.jpg">
    <link rel="shortcut icon" type="image/jpeg" href="https://raw.githubusercontent.com/LuckyLuke63/The-Very-Best-of-Matia-Bazar/main/souvenir_copertina_cd.jpg">
  
  <style>
    body { font-family: Arial,sans-serif; background: linear-gradient(135deg,#f2ebe0 0%,#ede0d3 100%); color: #3b2f2f; max-width:800px; margin:2em auto; padding:0 1em;}
    h1 { text-align:center; font-size:2.2em; margin-bottom:.2em; color:#8b4513;}
    .subtitle { text-align:center; margin-bottom:1.5em; color:#7d5a50; font-style:italic;}
    .controls { display:flex; justify-content:center; align-items:center; margin-bottom:1.5em; gap:.5em;}
    select { padding:8px 12px; border-radius:6px; border:2px solid #a65e2e; background:white; font-size:1em; color:#3b2f2f;}
    .song { background: #fff; border-radius:12px; padding:16px; margin-bottom:1.2em; display:flex; align-items:center; box-shadow:0 4px 12px rgba(0,0,0,0.15); transition:transform 0.2s;}
    .song:hover { transform:translateY(-2px); box-shadow:0 6px 16px rgba(0,0,0,0.2);}
    .album-cover { width:64px; height:64px; border-radius:8px; margin-right:16px; background:#f0f0f0; display:flex; align-items:center; justify-content:center; font-size:2em; color:#ccc; flex-shrink:0; overflow:hidden;}
    .album-cover img { width:100%; height:100%; object-fit:cover; border-radius:8px;}
    .song-info { flex:1; margin-right:12px;}
    .rank { font-size:1.5em; font-weight:bold; color:#a65e2e; margin-right:8px;}
    .title { font-weight:bold; font-size:1.1em; color:#2c1810;}
    .artist { color:#666; font-size:0.95em; margin-top:2px;}
    button { background: linear-gradient(135deg,#1db954 0%,#1ed760 100%); border:none; color:white; padding:10px 16px; border-radius:25px; cursor:pointer; font-size:0.9em; font-weight:600; transition:all 0.2s; box-shadow:0 2px 8px rgba(29,185,84,0.3);}
    button:hover { background: linear-gradient(135deg,#17a44c 0%,#1bcf5a 100%); transform:translateY(-1px);}
    #overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; align-items:center; justify-content:center; z-index:1000;}
    #player { background:#fff; border-radius:16px; padding:24px; max-width:420px; width:90%; text-align:center; box-shadow:0 12px 32px rgba(0,0,0,0.3);}
    #player h3 { margin:0 0 8px; color:#2c1810; font-size:1.3em;}
    #player p { margin:0 0 16px; color:#666;}
    #close { margin-top:16px; background: linear-gradient(135deg,#c0392b 0%,#e74c3c 100%);}
    #close:hover { background: linear-gradient(135deg,#a93226 0%,#cb4335 100%);}
    .cd-badge { background:#a65e2e; color:white; padding:4px 8px; border-radius:12px; font-size:0.7em; font-weight:bold; margin-left:8px;}
    /* NUOVO STILE PER L'IMMAGINE DI COPERTINA */
    .album-main-cover { 
      text-align: center; 
      margin-bottom: 2em;
    }
    .album-main-cover img {
      max-width: 75%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }
  </style>
  <meta property="og:title" content="üéµ Souvenir: The Very Best of Matia Bazar">
  <meta property="og:description" content="Ascolta le anteprime e guarda i video dei loro pi√π grandi successi."> 
  <meta property="og:image" content="https://raw.githubusercontent.com/LuckyLuke63/The-Very-Best-of-Matia-Bazar/main/souvenir_copertina_cd.jpg">
  <meta property="og:image:width" content="600"> 
  <meta property="og:image:height" content="600">
  <meta property="og:type" content="website">
</head>
<body>
  <h1>üéµ Souvenir: The Very Best of Matia Bazar</h1>
  <div class="subtitle">30 brani indimenticabili (pi√π alcuni extra) con anteprime Spotify e video YouTube</div>
  <div class="album-main-cover">
    <img src="https://raw.githubusercontent.com/LuckyLuke63/The-Very-Best-of-Matia-Bazar/main/souvenir_copertina_cd.jpg" alt="Copertina Album Souvenir: The Very Best of Matia Bazar">
  </div>
  <div class="controls">
    <label for="cdSel"><strong>Scegli:</strong></label>
    <select id="cdSel" onchange="renderCD(this.value)">
      <option value="CD1">CD1</option>
      <option value="CD2">CD2</option>
      <option value="EXTRAS">EXTRAS</option>
    </select>
  </div>

  <div id="list"></div>

  <div id="overlay">
    <div id="player">
      <h3 id="track-title"></h3>
      <p id="track-artist"></p>
      <iframe id="sp-player" width="300" height="80" src="" frameborder="0" allow="autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      <br>
      <button id="close" onclick="closePlayer()">Chiudi</button>
    </div>
  </div>

  <script>
    // NOTA: Gli ID di YouTube qui sotto sono stati aggiunti per la funzionalit√† embed,
    // ma devono essere verificati con i video ufficiali.
    const tracksByCd = {
      "CD1": [
        {rank:1, title:"Per un'ora d'amore", artist:"1975", spotifyId:"4iOSMIthFJtpAv9C7rUo0C", youtubeId:"_KbXaHX-fEA"}, 
        {rank:2, title:"Solo tu", artist:"1977", spotifyId:"4X8Inh1pfQHQsrcoNLm7tC", youtubeId:"0ThncqIF7j4"},
        {rank:3, title:"Cavallo bianco", artist:"1976", spotifyId:"7GqDbUyPwcPbT46PQM8vPB", youtubeId:"z7gUIyeS3Ss"},
        {rank:4, title:"C'√® tutto un mondo intorno", artist:"1979", spotifyId:"0MQdERuDZBi4S1HydV1Oxq", youtubeId:"Cda1FUfHexM"},
        {rank:5, title:"Angelina", artist:"1985", spotifyId:"7AoeEiqlotWemqTfXKCx9S", youtubeId:"wpL4KrSqbvc"},
        {rank:6, title:"Aria", artist:"1987", spotifyId:"2pU4PZvGrPGeW8Z0vlVRKg", youtubeId:"zg5i6pSukJ0"},
        {rank:7, title:"Elettrochoc", artist:"1983", spotifyId:"4zWnTKJ6UzPWvhTfmDDPat", youtubeId:"Jn_kSPi05Y4"},
        {rank:8, title:"Oggi √® gi√† domani", artist:"1987", spotifyId:"7vr9byF48h6CgkIyXss5J2", youtubeId:"hyK0QMEffV0"},
        {rank:9, title:"Aristocratica", artist:"1984", spotifyId:"0wpNrcLXYg2T2UGiI3DBBd", youtubeId:"_dkm-E0QZYg"},
        {rank:10, title:"E dirsi ciao", artist:"1978", spotifyId:"4ZibZyu0s4Oi44QvUWXw9h", youtubeId:"H2qHHLfx6eU"},
        {rank:11, title:"Mi manchi ancora", artist:"1987", spotifyId:"4KtVE20UotBmXxDBrMfApg", youtubeId:"kaFSPBU2jVM"},
        {rank:12, title:"Stringimi", artist:"1989", spotifyId:"5Uc9pSuB1HHFIfQqEgPkpy", youtubeId:"E9gElSWn6xc"},
        {rank:13, title:"Sentimentale", artist:"1989", spotifyId:"26GJg4f7BvFAYmZmFbomt8", youtubeId:"X3N0K55rWnE"},
        {rank:14, title:"Vaghe stelle dell'Orsa", artist:"1987", spotifyId:"3nId0fgpMu9pVKtgaXoFex", youtubeId:"AZSMgtfRk-o"},
        {rank:15, title:"La √∫nica estrella verdadera", artist:"1988", spotifyId:"2ZYFednNRDngMdb7B8UVrl", youtubeId:"lhgjhRcgCTQ"}
      ],
      "CD2": [
        {rank:1, title:"Vacanze romane", artist:"1983", spotifyId:"4PRdGQsEQeqvfYZTPN6pDC", youtubeId:"Hzr-0XIk0no"},
        {rank:2, title:"Stasera... che sera!", artist:"1975", spotifyId:"1uz6If8Tcbjm3xyxQ48IjV", youtubeId:"Y8721XyQo5Q"},
        {rank:3, title:"Dieci piccoli indiani", artist:"1987", spotifyId:"7H7KIFAHoDThpK1SGdLZfj", youtubeId:"e9s6NHdTj8A"},
        {rank:4, title:"Souvenir", artist:"1985", spotifyId:"0ysShiwWlpQOVBokdQZYWu", youtubeId:"sj7zF8xmeP8"},
        {rank:5, title:"Mister Mandarino", artist:"1978", spotifyId:"4bvvHKF7yUE8x3I9ltIjFT", youtubeId:"RLLZhpOv8o4"},
        {rank:6, title:"Besame", artist:"1989", spotifyId:"2nssiA5nctYF1vIY8ZsTE3", youtubeId:"NDub_5T5aw"},
        {rank:7, title:"Il video sono io", artist:"1983", spotifyId:"5mbMtlfQA4JI8Gnm5c2tnl", youtubeId:"0HxhnZoT59s"},
        {rank:8, title:"Se tu", artist:"", spotifyId:"3wAlhDykuSDqpvAeb5BROU", youtubeId:"yoMUovqutrA"},
        {rank:9, title:"Fantasia", artist:"", spotifyId:"6G168xLBwydKusMFd3Xfge", youtubeId:"0aQHZ_d6XXw"},
        {rank:10, title:"Fuori orario", artist:"", spotifyId:"66EQTL6MeQE6YtX3hM59Zh", youtubeId:"rel9LeL83zo"},
        {rank:11, title:"Noi", artist:"", spotifyId:"3Spc4cey6l96hAceKvWuie", youtubeId:"KU_dp-oJmoE"},
        {rank:12, title:"Ti sento", artist:"", spotifyId:"72BnKkKnrOeCDY9vy2avFk", youtubeId:"FOadUytpMEU"},
        {rank:13, title:"Nell'era delle automobili", artist:"", spotifyId:"6q4uxh3jV0L00l0bf2IgWv", youtubeId:"Rhjy-cKvN7o"},
        {rank:14, title:"La prima stella della sera", artist:"", spotifyId:"0TKr1wUkJT3rYhoOmjaANp", youtubeId:"pd8sxJg5-EU"},
        {rank:15, title:"Stasera... che sera! (live)", artist:"", spotifyId:"3ZJqmvWWIEhBZI6ddcFaQu", youtubeId:"FLEyAjnBs9o"}        
      ],
      "EXTRAS": [
        {rank:1, title:"Che male fa", artist:"1976", spotifyId:"2qtMPjYJzN6A5lBqotSxcQ", youtubeId:"aESNgn5DfsM"},
        {rank:2, title:"Ma perch√®", artist:"1977", spotifyId:"3Z2WeeoxWPPkfPVNgrpocK", youtubeId:"qUFo738P830"},
        {rank:3, title:"Raggio di luna", artist:"1979", spotifyId:"4YB2mfnJ9juGvdDXUq6ieW", youtubeId:"V7ekwlyfe0k"}
      ]
    };

    async function getCoverArt(spotifyId) {
      try {
        const response = await fetch(`https://open.spotify.com/oembed?url=https://open.spotify.com/track/${spotifyId}`);
        const data = await response.json();
        return data.thumbnail_url || null;
      } catch (error) { return null; }
    }

    async function renderCD(cd) {
      const list = document.getElementById('list');
      list.innerHTML = '<div style="text-align:center;padding:20px;">Caricamento copertine...</div>';
      const tracks = tracksByCd[cd];
      list.innerHTML = '';
      for (const track of tracks) {
        const div = document.createElement('div');
        div.className = 'song';
        const coverDiv = document.createElement('div');
        coverDiv.className = 'album-cover';
        coverDiv.innerHTML = 'üéµ';

        const info = document.createElement('div');
        info.className = 'song-info';
        info.innerHTML = `
          <div>
            <span class='rank'>${track.rank}.</span>
            <span class='title'>${track.title}</span>
            <span class='cd-badge'>${cd}</span>
          </div>
          <div class='artist'>${track.artist}</div>
        `;

        // Contenitore per i pulsanti
        const controlsDiv = document.createElement('div');
        controlsDiv.style.display = 'flex'; 
        controlsDiv.style.flexDirection = 'column';
        controlsDiv.style.gap = '8px'; 
        
        // Pulsante Spotify (CORRETTO: Ora chiama openSpotifyPlayer)
        const btnSpotify = document.createElement('button');
        btnSpotify.textContent = 'Ascolta 30s (Spotify)';
        btnSpotify.onclick = () => openSpotifyPlayer(track.spotifyId, track.title, track.artist);

        controlsDiv.appendChild(btnSpotify);
        
        // Pulsante Youtube 
        if (track.youtubeId) {
            const btnYoutube = document.createElement('button');
            btnYoutube.textContent = 'Guarda Video (YouTube)';
            // Stili per il pulsante YouTube (Rosso)
            btnYoutube.style.background = 'linear-gradient(135deg, #FF0000 0%, #D80000 100%)'; 
            btnYoutube.style.boxShadow = '0 2px 8px rgba(255, 0, 0, 0.3)';
            btnYoutube.onmouseover = () => btnYoutube.style.background = 'linear-gradient(135deg, #CC0000 0%, #B80000 100%)';
            btnYoutube.onmouseout = () => btnYoutube.style.background = 'linear-gradient(135deg, #FF0000 0%, #D80000 100%)';

            btnYoutube.onclick = () => openYoutubePlayer(track.youtubeId, track.title, track.artist);
            controlsDiv.appendChild(btnYoutube);
        } else {
             const btnYoutubeDisabled = document.createElement('button');
             btnYoutubeDisabled.textContent = 'Video non disponibile';
             btnYoutubeDisabled.disabled = true;
             btnYoutubeDisabled.style.opacity = '0.5';
             controlsDiv.appendChild(btnYoutubeDisabled);
        }

        
        div.appendChild(coverDiv);
        div.appendChild(info);
        div.appendChild(controlsDiv);
        list.appendChild(div);

        getCoverArt(track.spotifyId).then(coverUrl => {
          if (coverUrl) {
            const img = document.createElement('img');
            img.src = coverUrl;
            img.alt = track.title + ' - ' + track.artist;
            img.onload = () => { coverDiv.innerHTML = ''; coverDiv.appendChild(img); };
            img.onerror = () => coverDiv.innerHTML = 'üíø';
          } else {
            coverDiv.innerHTML = 'üíø';
          }
        });
      }
    }

    // Funzione Spotify
    function openSpotifyPlayer(id, title, artist) {
      document.getElementById('track-title').textContent = title;
      document.getElementById('track-artist').textContent = artist;
      
      const playerIframe = document.getElementById('sp-player');
      // Configura l'iframe per Spotify (player piccolo)
      playerIframe.width = '300';
      playerIframe.height = '80';
      playerIframe.src = `https://open.spotify.com/embed/track/${id}`;
      
      document.getElementById('overlay').style.display = 'flex';
    }
    
    // Funzione Youtube
    function openYoutubePlayer(id, title, artist) {
      document.getElementById('track-title').textContent = title;
      document.getElementById('track-artist').textContent = artist;
      
      const playerIframe = document.getElementById('sp-player');
      // Configura l'iframe per YouTube (player grande, formato 16:9)
      playerIframe.width = '352'; 
      playerIframe.height = '198'; 
      playerIframe.src = `https://www.youtube.com/embed/${id}?autoplay=1`;
      
      document.getElementById('overlay').style.display = 'flex';
    }


    function closePlayer() {
      document.getElementById('overlay').style.display = 'none';
      // Ferma la riproduzione resettando la sorgente
      document.getElementById('sp-player').src = ''; 
    }

    document.getElementById('overlay').addEventListener('click', e => {
      if (e.target.id === 'overlay') closePlayer();
    });
    document.addEventListener('keydown', e => {
      if (e.key === "Escape") closePlayer();
    });

    document.addEventListener('DOMContentLoaded', () => {
      renderCD('CD1');
      document.getElementById('cdSel').value = 'CD1';
    });
  </script>
</body>
</html>















































































































